{"mappings":"AAAmBA,SAASC,cAAc,gBACxBD,SAASC,cAAc,eACrBD,SAASC,cAAc,iBAF3C,MAGMC,EAAMF,SAASC,cAAc,UAKnC,SAASE,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC7BC,YAAW,KACeC,KAAKC,SAAW,GAEhCJ,EAAQ,C,SAACH,E,MAAUC,IAEnBG,EAAO,C,SAACJ,E,MAASC,GAAO,GAEzBA,EAAM,G,CAbJL,SAASC,cAAc,SAE/BW,iBAAiB,UAkBtB,SAA0BC,GACxBA,EAAMC,iBACNC,QAAQC,QAGR,IAAIC,EAAaC,OAAOL,EAAMM,cAAcC,OAAOC,OAC/CC,EAAQJ,OAAOL,EAAMM,cAAcd,MAAMgB,OACzCE,EAAWL,OAAOL,EAAMM,cAAcK,KAAKH,OAI/C,IAAK,IAAII,EAAW,EAAGA,GAAYR,EAAYQ,GAAU,EACvDtB,EAAcsB,EAAUH,GACvBI,MAAK,EAACtB,SAAEA,EAAQC,MAAEA,MACjBU,QAAQY,IAAI,uBAAqBvB,QAAiBC,MAAU,IAE/DuB,OAAM,EAACxB,SAAEA,EAAQC,MAAEA,MAClBU,QAAQY,IAAI,sBAAoBvB,QAAeC,MAAU,IAGzDiB,GAASC,EAGXV,EAAMM,cAAcU,QAEpB3B,EAAI4B,aAAa,YAAY,GAE7BC,aAAY,KACV7B,EAAI8B,gBAAgB,WAAW,GAC9B,I","sources":["src/js/03-promises.js"],"sourcesContent":["const delayInput = document.querySelector(\"[name=delay]\");\nconst stepInput = document.querySelector(\"[name=step]\");\nconst amountInput = document.querySelector(\"[name=amount]\");\nconst btn = document.querySelector(\"button\");\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", promiseGenerator);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n  setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n          if (shouldResolve) {\n            resolve({position, delay});\n          } else {\n            reject({position,delay});\n          }\n        }, delay)\n      })\n       \n    }\n\n\n\nfunction promiseGenerator(event) {\n  event.preventDefault();\n  console.clear();\n\n\n  let userAmount = Number(event.currentTarget.amount.value);\n  let delay = Number(event.currentTarget.delay.value);\n  let userStep = Number(event.currentTarget.step.value);\n\n  \n\n  for (let position = 1; position <= userAmount; position+=1){\n    createPromise(position, delay)\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    \n  })\n    delay += userStep;\n  }\n\n  event.currentTarget.reset();\n\n  btn.setAttribute(\"disabled\", true);\n\n  setInterval(() => {\n    btn.removeAttribute(\"disabled\");\n  }, 5000);\n\n  \n\n\n}\n\n\n\n\n \n\n\n\n"],"names":["document","querySelector","$47d4ff9957288465$var$btn","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","addEventListener","event","preventDefault","console","clear","userAmount","Number","currentTarget","amount","value","delay1","userStep","step","position1","then","log","catch","reset","setAttribute","setInterval","removeAttribute"],"version":3,"file":"03-promises.ffa3fb46.js.map"}